产品概述
我们解决什么问题？
ComfyUI的MixLab社区提供XY ploy系列的节点，供用户做一些批量跑图的操作，但是这个节点不能控制一些特别细节的节点，并且如果网页关掉了，则任务就丢失了，并且只支持单用户查看，还不支持分布式执行，不支持定时任务，也不支持将结果文件导出为PDF，也不支持参数复用设置，也不支持Z轴，我们的Comfxyz则支持，我们可以设置企业租户内共享工作流、特征参数、服务器节点信息，并且还可以绑定飞书，当任务执行完成的时候，自动发送飞书。
这个项目有五个页面，分别是用户鉴权页面、软件首页、设置页面、任务详情页面和密码登录页面。以下是每个页面的功能概述：
问题陈述
ComfyUI的MixLab社区提供了用于批量处理的XY绘图节点。然而，这些节点存在重大局限：
1. 对特定节点缺乏精细控制。
2. 若关闭网页浏览器，任务会丢失。
3. 仅支持单用户查看
4. 不支持分布式执行。
5. 不支持定时任务。
6. 无法将结果导出为PDF文件。
7. 不允许参数复用或Z轴配置。
产品概念字典
任务（Task）
- 定义
一个任务代表一次批量运行的流程操作，包含特定的特征参数、目标工作流、分布式服务器列表和执行时间。
- 字段
  - 名称（name）：任务的简要描述，用于快速识别。
  - 描述（description）：任务的详细说明，帮助理解任务目的和内容。
  - 特征（features）：用户选择的特征参数，用于生成批量ComfyUI任务。
  - 工作流（workflow）：用户选择的工作流，定义任务的执行逻辑。
  - 服务器（servers）：任务执行的目标服务器列表，可指定一个或多个服务器。
  - 执行时间（executeTime）：任务预设的启动时间，支持延迟执行。
  - 执行状态（executeStatus）：任务的当前状态，包括 INIT（初始化）、RUNNING（运行中）、SUCCESS（成功）和 FAIL（失败）。
  - 批次大小（batchSize）：每个组合执行的次数
  - 完成回调（successWebhook）：任务完成后发送通知的 Webhook URL，可选。
  - 回调参数（successWebhookParams）：回调时需要附加的自定义参数，可选。

---
服务器（Server）
- 定义
表示可以用于任务执行的 ComfyUI 节点信息。每个服务器与用户绑定，并可共享使用。
- 字段
  - 名称（name）：服务器名称，用于区分和识别。
  - 地址（address）：服务器的访问地址（IP 或 URL）。
  - 状态（isActive）：标记服务器是否处于活跃状态。

---
特征（Feature）
- 定义
用户定义的一组参数集合，用于任务的批量生成。可以包含多个子参数项（FeatureItem）。
- 字段
  - 名称（name）：特征的名称，用于识别。
  - 描述（description）：特征的详细说明。
  - 子参数（items）：特征下的具体子参数（如 XY 或 Z 轴的具体值）。

---
工作流（Workflow）
- 定义
ComfyUI 的任务逻辑定义，包含任务执行的步骤和顺序，可与多个任务关联。
- 字段
  - 名称（name）：工作流名称，用于识别。
  - 描述（description）：工作流的详细说明。
  - 内容（workflow）：工作流的 JSON 定义，包含节点和连接逻辑。

---
结果（ResultItem）
- 定义
任务的执行输出结果，记录每个特征项的运行结果及状态。
- 字段
  - 路径（resultPath）：结果文件的存储路径。
  - 执行状态（executeStatus）：结果对应的执行状态。
  - 关联特征项（FeatureItem）：标识生成结果的特征参数。
产品页面
暂时无法在飞书文档外展示此内容
1. 用户鉴权页面
2. 工作台首页：
  - 特征模板列表：CRUD
  - 任务列表：CRUD
  - 工作流列表：CRUD
  - 服务器列表：CRUD，管理Comfy服务器
3. 创建任务界面：
  - 从特征模板列表，选择1-3个特征
  - 本地存储和云存储
  - 从工作流列表，选择1个工作流
  - 从服务器列表，选择1到n个服务器
  - 选择执行时间
  - 任务完成后的飞书通知webhook（可选）
4. 任务详情页面：
  - 复制 / 删除任务。
  - 开启 / 结束任务。
  - 下载 / 打包结果
  - 选择XYZ轴对应的特征

这一次的需求：我需要「工作台首页」，

# 视觉
颜色列表
背景颜色：
主背景色渐变：从 blue-50 到 indigo-50（对应样式 bg-gradient-to-br from-blue-50 to-indigo-50），常用于页面大背景，营造清新、柔和且富有科技感的氛围，奠定淡雅舒适的整体基调，使整个产品视觉风格协调统一，让用户在使用各功能页面时都能感受到舒适的视觉环境，符合常见科技类、专业平台的视觉印象，给人冷静、可靠之感。
按钮颜色：
按钮主色渐变：从 blue-500 到 indigo-600（对应样式 bg-gradient-to-r from-blue-500 to-indigo-600），广泛应用在各类操作按钮上，与背景淡色系形成鲜明对比，形成较强视觉焦点，突出按钮作为操作引导元素的关键作用，吸引用户去点击执行相应操作，同时传达出专业、稳重的感觉，有助于提升用户对整个产品的可信度认知。
图标及文字颜色：
图标颜色：大量使用 gray-400（如 UserOutlined、LockOutlined 图标等），在产品各页面中只要涉及图标展示的地方基本都采用此颜色，呈现低调、柔和的视觉效果，与整体简洁风格相呼应，避免图标过于突兀，使整个页面视觉元素搭配和谐。
普通文本颜色：提示信息、占位符等文本多采用 gray-500，无论是登录页面，还是产品内的功能介绍页面、操作提示页面等各处需要展示常规文字内容的地方，都保证文字清晰可辨又不过分刺眼，确保整体视觉上的协调统一。
重要提示信息颜色（错误提示等）：通过 antd 的 message 组件默认设置，错误时通常为比较显眼的红色系等，在产品任何需要向用户提示错误、重要警告等关键信息的场景下使用，以此引起用户高度关注，保障用户能及时察觉问题所在。
Logo 区域颜色：
Logo 圆形背景颜色渐变：从 blue-500 到 indigo-600（对应样式 w-16 h-16 mx-auto mb-4 rounded-full 且背景渐变设置同按钮），在产品的各个展示品牌形象的入口处（比如启动页面、设置页面的品牌标识处等），该渐变背景的圆形承载 logo 图形元素，使其成为视觉亮点，强化品牌印象，让用户能快速识别并记住产品品牌。
Logo 文字颜色：内部图形元素文字为 text-white，品牌名称部分像 ComfXYZ 采用 text-gray-800（以较大字号 text-2xl、加粗 font-bold 展示）突出品牌标识，平台功能简要描述文字则为 text-gray-500，无论是在产品的初始引导页面还是相关介绍页面等出现 logo 及相关说明文字时，都按照这样的颜色搭配，清晰传达平台核心定位。
额外信息区域颜色：
基础文本颜色：采用较小字号（text-sm）的 text-gray-500 呈现基础信息，在产品中只要是辅助性的、引导性的文本信息（比如登录页面提示注册、功能页面提示相关拓展操作等）基本都采用此颜色和字号规范，保持整体风格一致且低调，不会喧宾夺主。
注册按钮文字颜色：正常状态为 text-blue-600，鼠标悬停时变为 text-blue-700，用于产品内各类引导用户进行下一步操作的按钮（比如注册、进入新功能页面等按钮），通过颜色变化吸引用户关注并引导点击跳转，使交互引导更自然、直观。
页脚信息区域颜色：以较小字号（text-sm）、text-gray-500 的文字展示版权信息以及对平台特点的简短描述（如 "高性能・安全可靠・企业级批量 ComfyUI 任务处理解决方案"），在产品各个页面底部（如登录页面、功能页面等）统一使用该样式展示补充说明和平台基本属性相关内容，位置靠下且样式低调，既不影响主要功能操作区域，又能让用户在需要了解时可以看到关键信息。
特征列表
整体布局特征：
布局方式：常采用居中布局，通过 flex 布局（如 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4 样式设置）让页面内容在垂直和水平方向上都能居中显示，确保不同屏幕尺寸下整个产品各页面都能维持良好的视觉平衡，给用户聚焦、规整的视觉感受，无论是操作界面还是展示界面都显得整齐有序，方便用户快速定位和操作各功能元素。
区域划分：一般会有明确的功能区域划分，例如顶部多为品牌展示相关区域（包含 logo 展示、产品名称等），中部是核心操作或功能展示区（像登录页面的登录表单区、功能页面的主要操作模块等），下方安排额外信息提示区（引导用户进一步操作、提供相关提示等），最底部则是页脚信息区（展示版权、平台特点等补充信息），各区域界限清晰，这种布局模式贯穿整个产品的页面设计，便于用户快速熟悉和适应不同页面的操作与信息获取逻辑。
元素设计特征：
Logo 区域：
图形元素：普遍有圆形（w-16 h-16 mx-auto mb-4 rounded-full）作为背景承载，内部搭配如立方体图标（fas fa-cube，推测使用字体图标库）并设置白色文字颜色展示品牌相关图形元素，圆形背景采用从 blue-500 到 indigo-600 的渐变，使其在产品各展示品牌的地方都成为视觉亮点，强化品牌印象，利于品牌形象的传播和用户识别记忆。
文字元素：品牌名称以较大字号（text-2xl）、加粗（font-bold）和深灰色（text-gray-800）展示突出品牌标识，紧接着是对平台功能的简要描述文字采用较浅灰色（text-gray-500），无论是在产品初次启动展示页，还是各功能模块相关介绍处等出现 logo 及对应说明文字时，都按照此规范设计，清晰且有层次地传达平台核心定位。
操作交互元素：
输入框：在需要用户输入信息的地方（比如登录、注册、搜索等功能处）多使用 antd 的 Input 和 Input.Password 组件构建用户名、密码、搜索关键词等输入框，带有图标前缀（prefix 属性添加 UserOutlined、LockOutlined 等图标）提升视觉辨识度，设置较大尺寸（size="large"）、圆角边框（rounded-lg border-gray-300），整体外观简洁大方方便用户输入信息，并且设置必填规则（rules 属性要求必须输入内容），未按要求输入时能及时提示用户，保障交互的友好性和数据的完整性，整个产品内的输入框设计保持一致性，方便用户操作习惯的养成。
按钮：操作按钮（如登录、提交、确认等按钮）基本都采用与按钮主色一致的渐变背景（bg-gradient-to-r from-blue-500 to-indigo-600），设置较大宽度（w-full）、固定高度（h-11）以及圆角样式（!rounded-button），按钮文字简洁明了（如 "登录""提交" 等），同时设置 loading 属性，在执行相应操作时能显示加载状态反馈给用户，让用户知晓操作正在进行中，这种按钮设计风格在产品各个功能页面的操作按钮上统一应用，增强了整体交互体验的连贯性和易用性。
引导提示元素：
额外信息区域：通过文本和按钮组合的方式，文本用较小字号（text-sm）的灰色系（text-gray-500）呈现基础信息，注册、查看更多等引导用户进行下一步操作的按钮采用蓝色系（text-blue-600 hover:text-blue-700），鼠标悬停时有颜色变化，在产品各页面只要涉及引导用户进一步操作的地方都采用类似设计，整体设计简洁且能有效满足引导用户进行拓展操作的需求，提升用户对产品功能的探索意愿。
页脚信息区域：以较小字号（text-sm）、灰色系（text-gray-500）的文字展示版权信息以及对平台特点的简短描述（如 "高性能・安全可靠・企业级批量 ComfyUI 任务处理解决方案"），在产品各个页面底部统一呈现，起到补充说明和展示平台基本属性的作用，同时又不会干扰主要的功能操作区域，让用户在浏览或操作过程中可随时查看了解相关信息，增加对产品的整体认知。
整体风格特征：
简洁性：整个产品的设计都秉持简洁的理念，无论是页面布局、元素设计还是色彩搭配，都避免过多复杂、冗余的元素，让用户在使用过程中能聚焦核心功能和关键信息，不会因过多视觉干扰而感到困惑，提高操作效率和使用体验。
专业性：通过色彩运用（如专业感较强的蓝色系渐变等）、元素细节设计（如规范的输入框、按钮设计等）以及整体页面布局的规整性，营造出专业的氛围，使产品符合科技类、任务处理平台等专业应用场景的形象，让用户从视觉上对产品的质量和可靠性产生信任。
易用性：注重通过清晰的区域划分、明显的视觉引导（如按钮的突出设计、引导提示信息等）以及友好的交互元素设计（输入框必填提示、按钮加载状态反馈等），方便用户快速理解和掌握产品的使用方法，顺利完成各项操作，降低用户的学习成本，提升产品的易用性。
品牌传达性：利用 logo 区域的独特设计（图形元素与文字搭配）以及贯穿各页面的品牌元素颜色规范等，强化品牌印象，让用户在使用产品的不同功能页面时都能不断接触和识别到品牌相关信息，有助于品牌形象的传播和用户对品牌的记忆与认同。

## Mermaid动画演示

本项目包含一个Mermaid图表动画演示功能，允许用户创建一系列Mermaid图表，并将其渲染为流畅的动画序列。

### 主要功能

- **多步骤Mermaid编辑**：创建和编辑一系列相关的Mermaid图表
- **实时预览**：立即查看编辑结果
- **两种动画模式**：
  - 基础动画：简单的淡入淡出过渡
  - 高级动画：分析图表差异，创建平滑过渡效果
- **动画控制**：播放、暂停、步进和速度调节
- **响应式设计**：适配各种屏幕尺寸

### 技术实现

- React和TypeScript：前端开发
- Mermaid.js：解析和渲染图表
- Framer Motion：创建流畅的动画效果
- 图表差异分析：对比两个图表间的变化

### 使用方法

1. 访问 `/animation` 路由
2. 在编辑器中输入Mermaid图表代码
3. 添加多个步骤，每个步骤代表图表的一个状态
4. 切换到动画演示标签页，选择动画模式
5. 使用控制按钮播放、暂停和导航动画

该功能特别适合用于：
- 算法可视化教学
- 流程图演示
- 系统架构变化展示
- 数据流程动态展示